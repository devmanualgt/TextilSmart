<div class="container mt-4">

  <form [formGroup]="productionForm" (ngSubmit)="sendproduction()">

    <div class="mb-2 row justify-content-center">
      <!-- Selección de Proveedor -->
      <div class="mb-2 text-center size-select m-auto">
        <ng-select [items]="cars3" bindLabel="name" [loading]="false" bindValue="id" placeholder="Seleccionar Proveedor"
          formControlName="proveedor">
          <ng-template ng-option-tmp let-item="item">
            {{ item.name }} <br />
          </ng-template>
        </ng-select>
      </div>
      <!-- Selección de Producto-Proveedor -->
      <div class="mb-2 text-center size-select m-auto">
        <ng-select [items]="cars" bindLabel="name" [loading]="false" bindValue="id" placeholder="Seleccionar Producto"
          formControlName="producto">
          <ng-template ng-option-tmp let-item="item">
            {{ item.name }} <br />
          </ng-template>
        </ng-select>
      </div>
    </div>

    <!-- Selección de Producto-Interno -->
    <div class="mb-3 text-center size-select m-auto">
      <ng-select [items]="cars" bindLabel="name" [loading]="false" bindValue="id" placeholder="Seleccionar Producto"
        formControlName="producto">
        <ng-template ng-option-tmp let-item="item">
          {{ item.name }} <br />
        </ng-template>
      </ng-select>
    </div>

    <!----1 FILA, 3 COLUMNAS----->
    <div class="container">
      <div class="mb-2 row justify-content-center">
        <!-- Selección de Color -->
        <div class="col mb-2 text-center size-select m-auto">
          <ng-select [items]="cars4" bindLabel="name" [loading]="false" bindValue="id" placeholder="Seleccionar Color"
            formControlName="color">
            <ng-template ng-option-tmp let-item="item">
              {{ item.name }} <br />
            </ng-template>
          </ng-select>
        </div>
        <!-- Selección de   Talla -->
        <div class="mb-2 col text-center size-select m-auto">
          <ng-select [items]="cars5" bindLabel="name" [loading]="false" bindValue="id" placeholder="Seleccionar Talla"
            formControlName="talla">
            <ng-template ng-option-tmp let-item="item">
              {{ item.name }} <br />
            </ng-template>
          </ng-select>
        </div>
        <!-- Cantidad a Fabricar -->
        <div class="mb-2 col text-center">
          <label for="cantidadFabricar" class="form-label">Cantidad a Fabricar</label>
          <input type="number" id="cantidadFabricar" class="form-control text-center"
            style="max-width: 200px; margin: auto" formControlName="cantidad" min="1" />
        </div>
      </div>



      <!------Grupo para color, talla y cantidad--------->
      <!--<div class="mb-2 row justify-content-center">-->



      <!-- Selección de Encargado -->
      <div class="mb-3 text-center size-select m-auto">
        <ng-select [items]="cars2" bindLabel="name" [loading]="false" bindValue="id" placeholder="Seleccionar Encargado"
          formControlName="encargado">
          <ng-template ng-option-tmp let-item="item">
            {{ item.name }} <br />
          </ng-template>
        </ng-select>
      </div>

      <!-- Fechas de Inicio y Finalización -->
      <div class="mb-3 row justify-content-center">
        <div class="col-md-4">
          <label for="fechaInicio" class="form-label">Fecha de Inicio</label>
          <input type="date" id="fechaInicio" class="form-control" formControlName="fechaInicio" required />
        </div>
        <div class="col-md-4">
          <label for="fechaFin" class="form-label">Fecha de Finalización</label>
          <input type="date" id="fechaFin" class="form-control" formControlName="fechaFin" required />
        </div>
      </div>



      <!-- Tabla de Materia Prima -->
      <div class="product-details mt-4">
        <table class="table table-striped table-bordered">
          <thead class="table-light">
            <tr>
              <th>Producto</th>
              <th>Cantidad por Prenda</th>
              <th>Unidad de Medida</th>
              <th>Stock</th>
              <th>Cantidad Necesaria</th>
              <th>Disponibilidad</th>
            </tr>
          </thead>
          <tbody id="materiaPrimaTableBody">
            <!-- Las filas serán agregadas dinámicamente -->
          </tbody>
        </table>
      </div>

      <!-- Botón de Enviar -->
      <div class="text-center mt-3">
        <button class="btn btn-success" type="submit">Enviar</button>
      </div>
    </div>
  </form>
</div>


<!-- Modal de Selección (Usado para Producto y Encargado) -->
<div class="modal fade" id="seleccionModal" tabindex="-1" aria-labelledby="seleccionModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="seleccionModalLabel">
          Selecciona una Opción
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <input type="text" class="form-control mb-3" id="modalSearchInput" placeholder="Buscar..." />
        <ul class="list-group" id="modalList">
          <!-- Lista dinámica -->
        </ul>
      </div>
    </div>
  </div>
</div>